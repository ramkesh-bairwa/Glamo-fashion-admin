(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4630],{2301:(e,t,r)=>{Promise.resolve().then(r.bind(r,8761))},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>d});var s=r(2596),a=r(9688);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4503:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(2115);let a=0,d=new Map,n=e=>{if(d.has(e))return;let t=setTimeout(()=>{d.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);d.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function c(e){l=i(l,e),o.forEach(e=>{e(l)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(l);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>o});var s=r(5155),a=r(2115),d=r(9708),n=r(2085),i=r(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...c}=e,u=l?d.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:a,size:n,className:r})),ref:t,...c})});l.displayName="Button"},8482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>u});var s=r(5155),a=r(2115),d=r(3999);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",r),...a})});l.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},8761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(2115),d=r(5695),n=r(9852),i=r(7168),o=r(4503),l=r(8482),c=r(8164),u=r(7550),m=r(9474),f=r(2299);function p(){let{id:e}=(0,d.useParams)(),t=(0,d.useRouter)(),{toast:r}=(0,o.dj)(),[p,h]=(0,a.useState)(null),[g,b]=(0,a.useState)(!0),[x,v]=(0,a.useState)(null),[w,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{let t=async()=>{try{let t=await fetch("/api/brands/".concat(e)),s=await t.json();t.ok?(h(s),s.icon&&j("/uploads/brand-icons/"+s.icon)):r({title:"Error",className:"bg-red-500 text-white text-center font-semibold",duration:2e3,description:s.message||"Failed to load brand."})}catch(e){r({title:"Error",className:"bg-red-500 text-white text-center font-semibold",duration:2e3,description:"Something went wrong while fetching brand."})}finally{b(!1)}};e&&t()},[e]);let y=async()=>{if(!p)return;let s=new FormData;s.append("name",p.name),s.append("slug",p.slug),s.append("description",p.description),s.append("domain",p.domain),s.append("brand_url",p.brand_url),x&&s.append("file",x);let a=await fetch("/api/brands/".concat(e),{method:"PUT",body:s}),d=await a.json();a.ok?(r({title:"Brand updated",className:"bg-green-500 text-white text-center font-semibold",duration:2e3,description:"Successfully updated brand."}),t.push("/dashboard/brands/"+e)):r({title:"Update failed",className:"bg-red-500 text-white text-center font-semibold",duration:2e3,description:d.message||"Something went wrong."})};return g?(0,s.jsx)("p",{className:"text-center mt-10",children:"Loading..."}):p?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center mb-4",children:(0,s.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-2",children:(0,s.jsxs)(c.A,{href:"/dashboard/products",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Brand"]})})}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Edit Brand"}),(0,s.jsx)(l.BT,{children:"Edit given files to update brand"})]}),(0,s.jsxs)(l.Wu,{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.J,{htmlFor:"name",children:"Title"}),(0,s.jsx)(n.p,{id:"name",name:"name",value:p.name,onChange:e=>h({...p,name:e.target.value}),placeholder:"Enter brand title",className:"bg-white border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.J,{htmlFor:"slug",children:"Slug"}),(0,s.jsx)(n.p,{id:"slug",name:"slug",value:p.slug,onChange:e=>h({...p,slug:e.target.value}),placeholder:"Enter category slug",className:"bg-white border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.J,{htmlFor:"domain",children:"Domain"}),(0,s.jsx)(n.p,{id:"domain",name:"domain",value:p.domain,onChange:e=>h({...p,domain:e.target.value}),placeholder:"Enter domain",className:"bg-white border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.J,{htmlFor:"brand_url",children:"Brand URL"}),(0,s.jsx)(n.p,{id:"brand_url",name:"brand_url",value:p.brand_url,onChange:e=>h({...p,brand_url:e.target.value}),placeholder:"Enter brand URL",className:"bg-white border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.J,{htmlFor:"fileUpload",children:"Upload Image"}),(0,s.jsxs)("div",{className:"ok_upload",children:[(0,s.jsxs)("label",{className:"upload-area",htmlFor:"fileUpload",children:[(0,s.jsx)("svg",{className:"upload-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"#3b82f6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l5-5m0 0l5 5m-5-5v12M5 20h14a2 2 0 002-2v-2a2 2 0 00-2-2h-3M9 20H5a2 2 0 01-2-2v-2a2 2 0 012-2h3"})}),(0,s.jsx)("div",{className:"upload-title",children:"Drag & drop files here"}),(0,s.jsxs)("div",{className:"upload-desc",children:["or ",(0,s.jsx)("span",{children:"browse"})," to upload"]}),(0,s.jsx)("input",{type:"file",id:"fileUpload",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){if(v(r),r.type.startsWith("image/")){let e=new FileReader;e.onloadend=()=>j(e.result),e.readAsDataURL(r)}else j(null)}}})]}),w&&(0,s.jsxs)("div",{className:"relative rounded-md shadow-inner text-center h-40 flex flex-col items-center justify-center border border-dashed rounded-md bg-white shadow-inner mt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{v(null),j(null)},className:"absolute right-2 top-2 bg-white rounded-full p-1 shadow-md hover:bg-red-100","aria-label":"Remove file",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("img",{src:w,alt:"Preview",className:"h-full object-contain rounded-md"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate w-40",children:null==x?void 0:x.name})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(m.T,{id:"description",name:"description",value:p.description,onChange:e=>h({...p,description:e.target.value}),rows:4,className:"bg-white border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsx)(l.wL,{className:"flex justify-between",children:(0,s.jsx)(i.$,{onClick:y,type:"submit",className:"bg-blue-500 hover:bg-blue-600",children:"Update"})})]})]}):(0,s.jsx)("p",{className:"text-center mt-10 text-red-500",children:"Brand not found"})}},9474:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(5155),a=r(2115),d=r(3999);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});n.displayName="Textarea"},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),a=r(2115),d=r(3999);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[3455,7198,8441,1684,7358],()=>t(2301)),_N_E=e.O()}]);