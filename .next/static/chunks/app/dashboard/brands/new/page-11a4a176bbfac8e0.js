(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3233],{1154:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},4503:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(2115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],o={toasts:[]};function c(e){o=d(o,e),i.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(o);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6220:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(5155),a=s(2115),n=s(3655),l=a.forwardRef((e,t)=>(0,r.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var d=s(2085),i=s(3999);let o=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l,{ref:t,className:(0,i.cn)(o(),s),...a})});c.displayName=l.displayName},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>i});var r=s(5155),a=s(2115),n=s(9708),l=s(2085),d=s(3999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(i({variant:a,size:l,className:s})),ref:t,...c})});o.displayName="Button"},7340:(e,t,s)=>{Promise.resolve().then(s.bind(s,9931))},7550:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>d,wL:()=>u});var r=s(5155),a=s(2115),n=s(3999);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});d.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});i.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},9474:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var r=s(5155),a=s(2115),n=s(3999);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});l.displayName="Textarea"},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var r=s(5155),a=s(2115),n=s(3999);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},9931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5155),a=s(2115),n=s(5695),l=s(7168),d=s(9852),i=s(9474),o=s(6220),c=s(8482),u=s(7550),m=s(1154),p=s(6874),f=s.n(p),h=s(4503);function x(){let{toast:e}=(0,h.dj)(),t=(0,n.useRouter)(),[s,p]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[j,w]=(0,a.useState)({name:"",domain:"",brand_url:"",slug:"",icon:"",description:""}),[y,N]=(0,a.useState)({}),S=()=>{let e={};return j.name.trim().length<3&&(e.name="Title must be at least 3 characters."),j.slug.trim().length<3?e.slug="Slug must be at least 3 characters.":/^[a-z0-9-]+$/.test(j.slug)||(e.slug="Slug can only contain lowercase letters, numbers, and hyphens."),N(e),0===Object.keys(e).length},k=e=>{let{name:t,value:s}=e.target;w(e=>({...e,[t]:s})),N(e=>({...e,[t]:void 0}))},T=async s=>{if(s.preventDefault(),S()){p(!0);try{let s=new FormData;s.append("name",j.name),s.append("slug",j.slug),s.append("domain",j.domain),s.append("brand_url",j.brand_url),s.append("description",j.description),x&&s.append("file",x);let r=await fetch("/api/brands",{method:"POST",body:s}),a=await r.json();r.ok?(e({title:"New Brand Added",description:"The brand was added successfully.",duration:2e3,className:"bg-green-500 text-white text-center font-semibold"}),t.push("/dashboard/brands")):alert("Error: ".concat(a.message))}catch(e){console.error("Error creating brand:",e),alert("An error occurred while creating the brand")}finally{p(!1)}}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center mb-4",children:(0,r.jsx)(l.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-2",children:(0,r.jsxs)(f(),{href:"/dashboard/products",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Brand list"]})})}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Add New Brand"}),(0,r.jsx)(c.BT,{children:"Create a new brand by filling out the form below."})]}),(0,r.jsxs)("form",{onSubmit:T,children:[(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"name",children:"Brand Name"}),(0,r.jsx)(d.p,{id:"name",name:"name",value:j.name,onChange:k,onBlur:S}),y.name&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:y.name})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"domain",children:"Domain Name"}),(0,r.jsx)(d.p,{id:"domain",name:"domain",value:j.domain,onChange:k,onBlur:S}),y.name&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:y.name})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"brand_url",children:"Brand URL"}),(0,r.jsx)(d.p,{id:"brand_url",name:"brand_url",value:j.brand_url,onChange:k,onBlur:S}),y.name&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:y.name})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"stock",children:"Slug"}),(0,r.jsx)(d.p,{id:"slug",name:"slug",value:j.slug,onChange:k,onBlur:S}),(0,r.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=j.name.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-");w(t=>({...t,slug:e}))},className:"text-xs",children:"Generate from name"})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"ok_upload",children:[(0,r.jsxs)("label",{className:"upload-area",htmlFor:"fileUpload",children:[(0,r.jsx)("svg",{className:"upload-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"#3b82f6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l5-5m0 0l5 5m-5-5v12M5 20h14a2 2 0 002-2v-2a2 2 0 00-2-2h-3M9 20H5a2 2 0 01-2-2v-2a2 2 0 012-2h3"})}),(0,r.jsx)("div",{className:"upload-title",children:"Drag & drop files here"}),(0,r.jsxs)("div",{className:"upload-desc",children:["or ",(0,r.jsx)("span",{children:"browse"})," to upload"]}),(0,r.jsx)("input",{type:"file",id:"fileUpload",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(g(s),s.type.startsWith("image/")){let e=new FileReader;e.onloadend=()=>v(e.result),e.readAsDataURL(s)}else v(null)}}})]}),b&&(0,r.jsxs)("div",{className:"relative rounded-md shadow-inner text-center h-40 flex flex-col items-center justify-center border border-dashed rounded-md bg-white shadow-inner mt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{g(null),v(null)},className:"absolute right-2 top-2 bg-white rounded-full p-1 shadow-md hover:bg-red-100","aria-label":"Remove file",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("img",{src:b,alt:"Preview",className:"h-full object-contain rounded-md"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate w-40",children:null==x?void 0:x.name})]})]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"description",children:"Description"}),(0,r.jsx)(i.T,{id:"description",name:"description",value:j.description,onChange:k,rows:4})]})]}),(0,r.jsxs)(c.wL,{className:"flex justify-between",children:[(0,r.jsx)(l.$,{variant:"outline",type:"button",asChild:!0,children:(0,r.jsx)(f(),{href:"/dashboard/products",children:"Cancel"})}),(0,r.jsx)(l.$,{type:"submit",disabled:s,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Create"})]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3455,3056,8441,1684,7358],()=>t(7340)),_N_E=e.O()}]);