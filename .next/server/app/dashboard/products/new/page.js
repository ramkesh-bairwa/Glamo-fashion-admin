(()=>{var e={};e.id=759,e.ids=[759],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10403:(e,r,t)=>{"use strict";t.d(r,{J:()=>c});var a=t(60687),s=t(43210),d=t(14163),n=s.forwardRef((e,r)=>(0,a.jsx)(d.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var o=t(24224),l=t(96241);let i=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)(n,{ref:t,className:(0,l.cn)(i(),e),...r}));c.displayName=n.displayName},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28559:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(62688).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},40520:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/html/Glamo-fashion-admin/app/dashboard/products/new/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/html/Glamo-fashion-admin/app/dashboard/products/new/page.tsx","default")},41862:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(62688).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42366:(e,r,t)=>{"use strict";function a(){return null}t.r(r),t.d(r,{default:()=>a})},43234:(e,r,t)=>{Promise.resolve().then(t.bind(t,40520))},55192:(e,r,t)=>{"use strict";t.d(r,{BT:()=>i,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>u});var a=t(60687),s=t(43210),d=t(96241);let n=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let o=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let i=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",e),...r}));i.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},62651:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>i});var a=t(65239),s=t(48088),d=t(88170),n=t.n(d),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let i={children:["",{children:["dashboard",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,40520)),"/var/www/html/Glamo-fashion-admin/app/dashboard/products/new/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(t.bind(t,42366)),"/var/www/html/Glamo-fashion-admin/app/dashboard/products/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,83249)),"/var/www/html/Glamo-fashion-admin/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/var/www/html/Glamo-fashion-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/var/www/html/Glamo-fashion-admin/app/dashboard/products/new/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/products/new/page",pathname:"/dashboard/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68988:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var a=t(60687),s=t(43210),d=t(96241);let n=s.forwardRef(({className:e,type:r,...t},s)=>(0,a.jsx)("input",{type:r,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Input"},72649:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(60687),s=t(43210),d=t(16189),n=t(85814),o=t.n(n),l=t(28559),i=t(41862),c=t(24934),u=t(68988),p=t(10403),m=t(55192),h=t(70333);function f({title:e,brandList:r,selectedBrandId:t,onSelect:d}){let[n,o]=(0,s.useState)(!1),l=(0,s.useRef)(null),i=r.find(e=>e.id===t);return(0,a.jsxs)("div",{className:"custom-dropdown",ref:l,children:[(0,a.jsx)("label",{htmlFor:"brand",className:"dropdown-label",children:e}),(0,a.jsxs)("div",{className:"dropdown-toggle",onClick:()=>o(!n),id:"brand",children:[i?i.name:(0,a.jsx)("span",{className:"placeholder",children:"Choose a brand"}),(0,a.jsx)("span",{className:"arrow",children:"â–¾"})]}),n&&(0,a.jsx)("ul",{className:"dropdown-menu",children:0===r.length?(0,a.jsx)("li",{className:"dropdown-item disabled",children:"No brands found"}):r.map(e=>(0,a.jsx)("li",{className:`dropdown-item ${e.id===t?"selected":""}`,onClick:()=>{d(e.id),o(!1)},children:e.name},e.id))})]})}function x(){let{toast:e}=(0,h.dj)(),r=(0,d.useRouter)(),[t,n]=(0,s.useState)(!1),[x,b]=(0,s.useState)([]),[w,v]=(0,s.useState)({brand_id:null,product_url:""}),g=async t=>{t.preventDefault(),n(!0);try{let t=new FormData;t.append("brand_id",String(w.brand_id)),t.append("product_url",w.product_url);let a=await fetch("/api/products",{method:"POST",body:t}),s=await a.json();a.ok?(e({title:"New Brand Added",description:"The brand was added successfully.",duration:2e3,className:"bg-green-500 text-white text-center font-semibold"}),r.push("/dashboard/brands")):alert(`Error: ${s.message}`)}catch(e){console.error("Error creating product:",e),alert("An error occurred while creating the product.")}finally{n(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center mb-4",children:(0,a.jsx)(c.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-2",children:(0,a.jsxs)(o(),{href:"/dashboard/products",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back to Product list"]})})}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Add New Product"}),(0,a.jsx)(m.BT,{children:"Fill out the form to create a new product."})]}),(0,a.jsxs)("form",{onSubmit:g,children:[(0,a.jsx)(m.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(f,{title:"Select Brand",brandList:x,selectedBrandId:w.brand_id,onSelect:e=>v({...w,brand_id:e})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"product_url",children:"Product URL"}),(0,a.jsx)(u.p,{id:"product_url",name:"product_url",value:w.product_url,onChange:e=>{let{name:r,value:t}=e.target;v(e=>({...e,[r]:t}))}})]})]})}),(0,a.jsxs)(m.wL,{className:"flex justify-between",children:[(0,a.jsx)(c.$,{variant:"outline",type:"button",asChild:!0,children:(0,a.jsx)(o(),{href:"/dashboard/products",children:"Cancel"})}),(0,a.jsx)(c.$,{type:"submit",disabled:t,children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Create"})]})]})]})]})}},77738:(e,r,t)=>{Promise.resolve().then(t.bind(t,72649))}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[524,635,963,372],()=>t(62651));module.exports=a})();